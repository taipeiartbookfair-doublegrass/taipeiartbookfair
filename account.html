<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; 
             script-src 'self' 'unsafe-inline' https://www.google.com https://www.gstatic.com https://code.jquery.com https://www.googletagmanager.com; 
             style-src 'self' 'unsafe-inline'; 
             connect-src https://www.google-analytics.com https://script.google.com https://script.googleusercontent.com/;
             frame-src https://www.google.com;"
    />
    <title>Account - 草率季Taipei Art Book Fair</title>
    <link rel="stylesheet" href="css/dashboard.css" />
    <link rel="stylesheet" href="css/font.css" />
    <link rel="shortcut icon" href="image/icon-1.ico" />

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-EPSXJPDH6L"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-EPSXJPDH6L");
    </script>
    <script src="js/cookie.js"></script>
    <script src="js/account.js"></script>
  </head>
  <body>
    <table class="layout">
      <tr>
        <!-- Sidebar -->
        <td class="sidebar">
          <p style="background-color: olivedrab; color: ghostwhite">
            <!-- 草率季<br />TPABF -->
            <img
              src="image/icon-1.ico"
              alt="logo"
              class="machine-rotate-logo"
              style="width: 4.5vw; height: auto; transform: rotate(45deg)"
            />
          </p>
          <a
            href="dashboard-TPABF.html"
            style="text-decoration: none; color: black"
            ><p>攤商管理<br />Dashboard</p></a
          >
          <hr class="sidebar-hr" />
          <a href="dashboard-contact.html" style="text-decoration: none"
            ><p style="text-decoration: none; color: black">
              聯絡我們<br />Contact
            </p></a
          >
          <hr class="sidebar-hr" />
          <a
            href="dashboard-FAQ.html"
            style="text-decoration: none; color: black"
            ><p>常見問題<br />FAQ</p></a
          >
          <hr class="sidebar-hr" />
          <div class="sidebar-middle">
            <p class="rotated-link">
              草率季 Taipei Art Book Fair<br />
              <a href="https://taipeiartbookfair.com/"
                >https://taipeiartbookfair.com/</a
              >
            </p>
          </div>
          <a href="account.html" style="text-decoration: none"
            ><p style="background-color: blueviolet; color: ghostwhite">
              帳號管理<br />Profile
            </p></a
          >
          <a
            href="index.html"
            style="text-decoration: none"
            onclick="logoutAndRedirect(event);"
          >
            <p style="background-color: black; color: whitesmoke">
              登出<br />Log out
            </p>
          </a>
          <script>
            function logoutAndRedirect(e) {
              e.preventDefault();
              // 刪除所有 cookie（可根據實際情況調整）
              document.cookie.split(";").forEach(function (c) {
                document.cookie = c
                  .replace(/^ +/, "")
                  .replace(
                    /=.*/,
                    "=;expires=" + new Date().toUTCString() + ";path=/"
                  );
              });
              window.location.href = "index.html";
            }
          </script>
        </td>

        <!-- 帳號資料 -->
        <td class="account">
          <h3 style="color: blue">Account</h3>
          <br />
          <div class="scroll-inner">
            <table width="100%">
              <tr
                style="
                  background-color: blue;
                  text-align: right;
                  border-color: blue;
                "
              >
                <td colspan="2">
                  <span
                    <span
                    style="
                      text-align: right;
                      font-size: 1rem;
                      color: ghostwhite;
                      cursor: pointer;
                    "
                    onclick="openEditPage();"
                    title="編輯"
                    >編輯 Edit</span
                  >
                </td>
              </tr>
              <tr colspan="2" style="position: relative">
                <!-- 左欄：代表人，一格佔 5 行 -->
                <td rowspan="2">
                  <span class="label">代表人 Contact Person</span><br />
                  <div
                    style="
                      vertical-align: middle;
                      font-size: 3rem;
                      line-height: 2rem;
                    "
                  >
                    <span style="font-size: 2rem" id="contact-person"
                      >🚧 讀取中…</span
                    >
                  </div>
                </td>

                <!-- 第一行右欄：Email -->
                <td>
                  <span class="label">聯絡信箱 Contact Email</span><br /><span
                    id="email"
                    >🚧 讀取中…</span
                  >
                </td>
              </tr>
              <tr>
                <td>
                  <span class="label">聯絡電話 Contact Phone</span><br /><span
                    id="phone"
                    >🚧 讀取中…</span
                  >
                </td>
              </tr>
              <tr>
                <td colspan="2">
                  <span class="label">國籍 Nationality</span><br /><span
                    id="nationality"
                    >🚧 讀取中…</span
                  >
                </td>
              </tr>
              <tr>
                <td>
                  <span class="label">Website</span><br />
                  <span id="website">🚧 讀取中…</span>
                </td>
                <td>
                  <span class="label">Instagram</span><br />
                  <span id="instagram">🚧 讀取中…</span>
                </td>
              </tr>
              <tr>
                <td>
                  <span class="label">Facebook</span><br />
                  <span id="facebook">🚧 讀取中…</span>
                </td>
                <td>
                  <span class="label">Whatsapp</span><br />
                  <span id="whatsapp">🚧 讀取中…</span>
                </td>
              </tr>
            </table>
          </div>
        </td>
        <td class="edit-page">
          <span
            style="
              position: absolute;
              top: 0.7rem;
              right: 1.2rem;
              font-size: 2rem;
              color: black;
              cursor: pointer;
              z-index: 10;
              transition: color 0.2s;
            "
            title="關閉"
            onclick="
              this.closest('.edit-page').style.display='none';
              document.querySelector('.account').style.display='table-cell';
            "
            >&#10005;</span
          >
          <div class="scroll-inner">
            <form class="edit-form">
              <h2 style="font-size: 1.5rem">編輯帳戶資料 Edit Profile</h2>
              <table width="100%">
                <tr>
                  <td>
                    <span class="label">代表人 Contact Person</span><br />
                    <input
                      type="text"
                      name="contact-person"
                      style="width: 95%"
                      id="contact-person-edit"
                      placeholder="代表人"
                    />
                  </td>
                  <td>
                    <span class="label">聯絡電話 Contact Phone</span><br />
                    <input
                      type="text"
                      name="phone"
                      value="聯絡電話"
                      style="width: 95%"
                      id="phone-edit"
                    />
                  </td>
                </tr>

                <tr>
                  <td colspan="2">
                    <span class="label">國籍 Nationality</span><br />
                    <select id="nationality-edit">
                      <option>Please select your nationality</option>
                      <option value="AF">Afghanistan (AF)</option>
                      <option value="AL">Albania (AL)</option>
                      <option value="DZ">Algeria (DZ)</option>
                      <option value="AS">American Samoa (AS)</option>
                      <option value="AD">Andorra (AD)</option>
                      <option value="AO">Angola (AO)</option>
                      <option value="AI">Anguilla (AI)</option>
                      <option value="AQ">Antarctica (AQ)</option>
                      <option value="AG">Antigua and Barbuda (AG)</option>
                      <option value="AR">Argentina (AR)</option>
                      <option value="AM">Armenia (AM)</option>
                      <option value="AW">Aruba (AW)</option>
                      <option value="AU">Australia (AU)</option>
                      <option value="AT">Austria (AT)</option>
                      <option value="AZ">Azerbaijan (AZ)</option>
                      <option value="BS">Bahamas, The (BS)</option>
                      <option value="BH">Bahrain (BH)</option>
                      <option value="BD">Bangladesh (BD)</option>
                      <option value="BB">Barbados (BB)</option>
                      <option value="BY">Belarus (BY)</option>
                      <option value="BE">Belgium (BE)</option>
                      <option value="BZ">Belize (BZ)</option>
                      <option value="BJ">Benin (BJ)</option>
                      <option value="BM">Bermuda (BM)</option>
                      <option value="BT">Bhutan (BT)</option>
                      <option value="BO">Bolivia (BO)</option>
                      <option value="BA">Bosnia and Herzegovina (BA)</option>
                      <option value="BW">Botswana (BW)</option>
                      <option value="BR">Brazil (BR)</option>
                      <option value="IO">
                        British Indian Ocean Territory (IO)
                      </option>
                      <option value="VG">British Virgin Islands (VG)</option>
                      <option value="BN">Brunei (BN)</option>
                      <option value="BG">Bulgaria (BG)</option>
                      <option value="BF">Burkina Faso (BF)</option>
                      <option value="MM">Burma (MM)</option>
                      <option value="BI">Burundi (BI)</option>
                      <option value="KH">Cambodia (KH)</option>
                      <option value="CM">Cameroon (CM)</option>
                      <option value="CA">Canada (CA)</option>
                      <option value="CV">Cape Verde (CV)</option>
                      <option value="KY">Cayman Islands (KY)</option>
                      <option value="CF">Central African Republic (CF)</option>
                      <option value="TD">Chad (TD)</option>
                      <option value="CL">Chile (CL)</option>
                      <option value="CN">China (CN)</option>
                      <option value="CX">Christmas Island (CX)</option>
                      <option value="CC">Cocos (Keeling) Islands (CC)</option>
                      <option value="CO">Colombia (CO)</option>
                      <option value="KM">Comoros (KM)</option>
                      <option value="CD">
                        Congo, Democratic Republic of the (CD)
                      </option>
                      <option value="CG">Congo, Republic of the (CG)</option>
                      <option value="CK">Cook Islands (CK)</option>
                      <option value="CR">Costa Rica (CR)</option>
                      <option value="CI">Cote d'Ivoire (CI)</option>
                      <option value="HR">Croatia (HR)</option>
                      <option value="CU">Cuba (CU)</option>
                      <option value="CY">Cyprus (CY)</option>
                      <option value="CZ">Czech Republic (CZ)</option>
                      <option value="DK">Denmark (DK)</option>
                      <option value="DJ">Djibouti (DJ)</option>
                      <option value="DM">Dominica (DM)</option>
                      <option value="DO">Dominican Republic (DO)</option>
                      <option value="EC">Ecuador (EC)</option>
                      <option value="EG">Egypt (EG)</option>
                      <option value="SV">El Salvador (SV)</option>
                      <option value="GQ">Equatorial Guinea (GQ)</option>
                      <option value="ER">Eritrea (ER)</option>
                      <option value="EE">Estonia (EE)</option>
                      <option value="ET">Ethiopia (ET)</option>
                      <option value="FK">
                        Falkland Islands (Islas Malvinas) (FK)
                      </option>
                      <option value="FO">Faroe Islands (FO)</option>
                      <option value="FJ">Fiji (FJ)</option>
                      <option value="FI">Finland (FI)</option>
                      <option value="FR">France (FR)</option>
                      <option value="GF">French Guiana (GF)</option>
                      <option value="PF">French Polynesia (PF)</option>
                      <option value="TF">
                        French Southern and Antarctic Lands (TF)
                      </option>
                      <option value="GA">Gabon (GA)</option>
                      <option value="GM">Gambia, The (GM)</option>
                      <option value="GE">Georgia (GE)</option>
                      <option value="DE">Germany (DE)</option>
                      <option value="GH">Ghana (GH)</option>
                      <option value="GI">Gibraltar (GI)</option>
                      <option value="GR">Greece (GR)</option>
                      <option value="GL">Greenland (GL)</option>
                      <option value="GD">Grenada (GD)</option>
                      <option value="GP">Guadeloupe (GP)</option>
                      <option value="GU">Guam (GU)</option>
                      <option value="GT">Guatemala (GT)</option>
                      <option value="GG">Guernsey (GG)</option>
                      <option value="GN">Guinea (GN)</option>
                      <option value="GW">Guinea-Bissau (GW)</option>
                      <option value="GY">Guyana (GY)</option>
                      <option value="HT">Haiti (HT)</option>
                      <option value="VA">Holy See (Vatican City) (VA)</option>
                      <option value="HN">Honduras (HN)</option>
                      <option value="HK">Hong Kong (HK)</option>
                      <option value="HU">Hungary (HU)</option>
                      <option value="IS">Iceland (IS)</option>
                      <option value="IN">India (IN)</option>
                      <option value="ID">Indonesia (ID)</option>
                      <option value="IR">Iran (IR)</option>
                      <option value="IQ">Iraq (IQ)</option>
                      <option value="IE">Ireland (IE)</option>
                      <option value="IM">Isle of Man (IM)</option>
                      <option value="IL">Israel (IL)</option>
                      <option value="IT">Italy (IT)</option>
                      <option value="JM">Jamaica (JM)</option>
                      <option value="JP">Japan (JP)</option>
                      <option value="JE">Jersey (JE)</option>
                      <option value="JO">Jordan (JO)</option>
                      <option value="KZ">Kazakhstan (KZ)</option>
                      <option value="KE">Kenya (KE)</option>
                      <option value="KI">Kiribati (KI)</option>
                      <option value="KP">Korea, North (KP)</option>
                      <option value="KR">Korea, South (KR)</option>
                      <option value="KW">Kuwait (KW)</option>
                      <option value="KG">Kyrgyzstan (KG)</option>
                      <option value="LA">Laos (LA)</option>
                      <option value="LV">Latvia (LV)</option>
                      <option value="LB">Lebanon (LB)</option>
                      <option value="LS">Lesotho (LS)</option>
                      <option value="LR">Liberia (LR)</option>
                      <option value="LY">Libya (LY)</option>
                      <option value="LI">Liechtenstein (LI)</option>
                      <option value="LT">Lithuania (LT)</option>
                      <option value="LU">Luxembourg (LU)</option>
                      <option value="MO">Macau (MO)</option>
                      <option value="MK">Macedonia (MK)</option>
                      <option value="MG">Madagascar (MG)</option>
                      <option value="MW">Malawi (MW)</option>
                      <option value="MY">Malaysia (MY)</option>
                      <option value="MV">Maldives (MV)</option>
                      <option value="ML">Mali (ML)</option>
                      <option value="MT">Malta (MT)</option>
                      <option value="MH">Marshall Islands (MH)</option>
                      <option value="MQ">Martinique (MQ)</option>
                      <option value="MR">Mauritania (MR)</option>
                      <option value="MU">Mauritius (MU)</option>
                      <option value="YT">Mayotte (YT)</option>
                      <option value="MX">Mexico (MX)</option>
                      <option value="FM">
                        Micronesia, Federated States of (FM)
                      </option>
                      <option value="MD">Moldova (MD)</option>
                      <option value="MC">Monaco (MC)</option>
                      <option value="MN">Mongolia (MN)</option>
                      <option value="MA">Morocco (MA)</option>
                      <option value="MZ">Mozambique (MZ)</option>
                      <option value="NA">Namibia (NA)</option>
                      <option value="NR">Nauru (NR)</option>
                      <option value="NP">Nepal (NP)</option>
                      <option value="NL">Netherlands (NL)</option>
                      <option value="NC">New Caledonia (NC)</option>
                      <option value="NZ">New Zealand (NZ)</option>
                      <option value="NI">Nicaragua (NI)</option>
                      <option value="NE">Niger (NE)</option>
                      <option value="NG">Nigeria (NG)</option>
                      <option value="NO">Norway (NO)</option>
                      <option value="OM">Oman (OM)</option>
                      <option value="PK">Pakistan (PK)</option>
                      <option value="PW">Palau (PW)</option>
                      <option value="PA">Panama (PA)</option>
                      <option value="PG">Papua New Guinea (PG)</option>
                      <option value="PY">Paraguay (PY)</option>
                      <option value="PE">Peru (PE)</option>
                      <option value="PH">Philippines (PH)</option>
                      <option value="PL">Poland (PL)</option>
                      <option value="PT">Portugal (PT)</option>
                      <option value="PR">Puerto Rico (PR)</option>
                      <option value="QA">Qatar (QA)</option>
                      <option value="RE">Reunion (RE)</option>
                      <option value="RO">Romania (RO)</option>
                      <option value="RU">Russia (RU)</option>
                      <option value="RW">Rwanda (RW)</option>
                      <option value="SH">Saint Helena (SH)</option>
                      <option value="KN">Saint Kitts and Nevis (KN)</option>
                      <option value="LC">Saint Lucia (LC)</option>
                      <option value="PM">Saint Pierre and Miquelon (PM)</option>
                      <option value="VC">
                        Saint Vincent and the Grenadines (VC)
                      </option>
                      <option value="WS">Samoa (WS)</option>
                      <option value="SM">San Marino (SM)</option>
                      <option value="ST">Sao Tome and Principe (ST)</option>
                      <option value="SA">Saudi Arabia (SA)</option>
                      <option value="SN">Senegal (SN)</option>
                      <option value="RS">Serbia (RS)</option>
                      <option value="SC">Seychelles (SC)</option>
                      <option value="SL">Sierra Leone (SL)</option>
                      <option value="SG">Singapore (SG)</option>
                      <option value="SK">Slovakia (SK)</option>
                      <option value="SI">Slovenia (SI)</option>
                      <option value="SB">Solomon Islands (SB)</option>
                      <option value="SO">Somalia (SO)</option>
                      <option value="ZA">South Africa (ZA)</option>
                      <option value="ES">Spain (ES)</option>
                      <option value="LK">Sri Lanka (LK)</option>
                      <option value="SD">Sudan (SD)</option>
                      <option value="SR">Suriname (SR)</option>
                      <option value="SZ">Swaziland (SZ)</option>
                      <option value="SE">Sweden (SE)</option>
                      <option value="CH">Switzerland (CH)</option>
                      <option value="SY">Syria (SY)</option>
                      <option value="TW">Taiwan (TW)</option>
                      <option value="TJ">Tajikistan (TJ)</option>
                      <option value="TZ">Tanzania (TZ)</option>
                      <option value="TH">Thailand (TH)</option>
                      <option value="TL">Timor-Leste (TL)</option>
                      <option value="TG">Togo (TG)</option>
                      <option value="TO">Tonga (TO)</option>
                      <option value="TT">Trinidad and Tobago (TT)</option>
                      <option value="TN">Tunisia (TN)</option>
                      <option value="TR">Turkey (TR)</option>
                      <option value="TM">Turkmenistan (TM)</option>
                      <option value="TV">Tuvalu (TV)</option>
                      <option value="UG">Uganda (UG)</option>
                      <option value="UA">Ukraine (UA)</option>
                      <option value="AE">United Arab Emirates (AE)</option>
                      <option value="GB">United Kingdom (GB)</option>
                      <option value="US">United States (US)</option>
                      <option value="UY">Uruguay (UY)</option>
                      <option value="UZ">Uzbekistan (UZ)</option>
                      <option value="VU">Vanuatu (VU)</option>
                      <option value="VE">Venezuela (VE)</option>
                      <option value="VN">Vietnam (VN)</option>
                      <option value="YE">Yemen (YE)</option>
                      <option value="ZM">Zambia (ZM)</option>
                      <option value="ZW">Zimbabwe (ZW)</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="label">Website</span><br />
                    <input
                      type="text"
                      name="website"
                      style="width: 95%"
                      id="website-edit"
                      placeholder="None"
                    />
                  </td>
                  <td>
                    <span class="label">Instagram</span><br />
                    <input
                      type="text"
                      name="instagram"
                      style="width: 95%"
                      id="instagram-edit"
                      placeholder="None"
                    />
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="label">Facebook</span><br />
                    <input
                      type="text"
                      name="facebook"
                      style="width: 95%"
                      id="facebook-edit"
                      placeholder="None"
                    />
                  </td>
                  <td>
                    <span class="label">Whatsapp</span><br />
                    <input
                      type="text"
                      name="whatsapp"
                      style="width: 95%"
                      id="whatsapp-edit"
                      placeholder="None"
                    />
                  </td>
                </tr>
              </table>

              <p style="margin-top: 2rem; color: darkgray">
                請再次確認資訊是否正確後進行修改。請注意，草率簿將於 8
                月底開始排版，最終資料將以工作同仁所彙整的版本為準。
              </p>

              <div style="margin-top: 1rem">
                <button type="submit" style="padding: 0.7rem 2rem">
                  送出 Submit
                </button>
              </div>
            </form>
          </div>
        </td>
      </tr>
    </table>

    <script>
      // Logo rotation logic
      const logo = document.querySelector(".machine-rotate-logo");
      let isHovering = false;

      if (logo) {
        // Mouse tracking for rotation when NOT hovering
        document.addEventListener("mousemove", function (e) {
          if (isHovering) return;
          const rect = logo.getBoundingClientRect();
          const cx = rect.left + rect.width / 2;
          const cy = rect.top + rect.height / 2;
          const dx = e.clientX - cx;
          const dy = e.clientY - cy;
          const angle = (Math.atan2(dy, dx) * 180) / Math.PI;
          logo.style.transform = `rotate(${angle + 90}deg)`;
        });

        // On hover: add animation class, remove inline transform
        logo.addEventListener("mouseenter", function () {
          isHovering = true;
          logo.style.transform = "";
          logo.classList.add("machine-rotate-animating");
        });

        // On leave: remove animation class, reset to follow mouse
        logo.addEventListener("mouseleave", function () {
          isHovering = false;
          logo.classList.remove("machine-rotate-animating");
        });
      }
    </script>
    <script>
      window.openEditPage = function openEditPage() {
        document.querySelector(".edit-page").style.display = "table-cell";
        document.querySelector(".account").style.display = "none";

        const contactPerson = document.getElementById("contact-person");
        const contactPersonEdit = document.getElementById(
          "contact-person-edit"
        );
        if (contactPerson && contactPersonEdit)
          contactPersonEdit.value = contactPerson.innerText.trim();

        const phone = document.getElementById("phone");
        const phoneEdit = document.getElementById("phone-edit");
        if (phone && phoneEdit) phoneEdit.value = phone.innerText.trim();

        const website = document.getElementById("website");
        const websiteEdit = document.getElementById("website-edit");
        if (website && websiteEdit)
          websiteEdit.value = website.innerText.trim();

        const instagramName = document.getElementById("");
        const instagramEdit = document.getElementById("instagram-edit");
        if (instagram && instagramEdit)
          instagramEdit.value = instagram.innerText.trim();

        const facebook = document.getElementById("facebook");
        const facebookEdit = document.getElementById("facebook-edit");
        if (facebook && facebookEdit)
          facebookEdit.value = facebook.innerText.trim();

        const whatsapp = document.getElementById("whatsapp");
        const whatsappEdit = document.getElementById("whatsapp-edit");
        if (whatsapp && whatsappEdit)
          whatsappEdit.value = whatsapp.innerText.trim();

        const nationality = document.getElementById("nationality");
        const nationalityEdit = document.getElementById("nationality-edit");
        if (nationality && nationalityEdit)
          nationalityEdit.value = nationality.innerText.trim();
      };
    </script>
  </body>
</html>
