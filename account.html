<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; 
             script-src 'self' 'unsafe-inline' https://www.google.com https://www.gstatic.com https://code.jquery.com https://www.googletagmanager.com; 
             style-src 'self' 'unsafe-inline'; 
             connect-src https://www.google-analytics.com https://script.google.com https://script.googleusercontent.com/;
             frame-src https://www.google.com;"
    />
    <title>Account - 草率季Taipei Art Book Fair</title>
    <link rel="stylesheet" href="css/dashboard.css" />
    <link rel="stylesheet" href="css/font.css" />
    <link rel="shortcut icon" href="image/icon-1.ico" />

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-EPSXJPDH6L"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-EPSXJPDH6L");
    </script>
    <script src="js/cookie.js"></script>
    <script src="js/account.js"></script>
  </head>
  <body>
    <table class="layout">
      <tr>
        <!-- Sidebar -->
        <td class="sidebar">
          <p style="background-color: olivedrab; color: ghostwhite">
            <!-- 草率季<br />TPABF -->
            <img
              src="image/icon-1.ico"
              alt="logo"
              class="machine-rotate-logo"
              style="width: 4.5vw; height: auto; transform: rotate(45deg)"
            />
          </p>
          <a
            href="dashboard-TPABF.html"
            style="text-decoration: none; color: black"
            ><p>攤商管理<br />Dashboard</p></a
          >
          <hr class="sidebar-hr" />
          <a href="dashboard-contact.html" style="text-decoration: none"
            ><p style="text-decoration: none; color: black">
              聯絡我們<br />Contact
            </p></a
          >
          <hr class="sidebar-hr" />
          <a
            href="dashboard-FAQ.html"
            style="text-decoration: none; color: black"
            ><p>常見問題<br />FAQ</p></a
          >
          <hr class="sidebar-hr" />
          <div class="sidebar-middle">
            <p class="rotated-link">
              草率季 Taipei Art Book Fair<br />
              <a href="https://taipeiartbookfair.com/"
                >https://taipeiartbookfair.com/</a
              >
            </p>
          </div>
          <a href="account.html" style="text-decoration: none"
            ><p style="background-color: blueviolet; color: ghostwhite">
              帳號管理<br />Account
            </p></a
          >
        </td>

        <!-- 帳號資料 -->
        <td class="account">
          <h3 style="color: blue">Account</h3>
          <br />
          <div class="scroll-inner">
            <table width="100%">
              <tr
                style="
                  background-color: blue;
                  text-align: right;
                  border-color: blue;
                "
              >
                <td colspan="2">
                  <span
                    style="
                      text-align: right;
                      font-size: 1rem;
                      color: ghostwhite;
                      cursor: pointer;
                      transition: color 0.2s;
                      transform: rotate(90deg);
                    "
                    onmouseover="this.style.color='darkolivegreen'"
                    onmouseout="this.style.color='black'"
                    onclick=""
                    title="編輯"
                    >編輯 Edit</span
                  >
                </td>
              </tr>
              <tr colspan="2" style="position: relative">
                <!-- 左欄：代表人，一格佔 5 行 -->
                <td rowspan="2">
                  <span class="label">代表人 Contact Person</span><br />
                  <div
                    style="
                      vertical-align: middle;
                      font-size: 3rem;
                      line-height: 2rem;
                    "
                  >
                    <span style="font-size: 2rem" id="contact-person"></span>
                  </div>
                </td>

                <!-- 第一行右欄：Email -->
                <td>
                  <span class="label">聯絡信箱 Contact Email</span><br /><span
                    id="contact-email"
                  ></span>
                </td>
              </tr>
              <tr>
                <td>
                  <span class="label">聯絡電話 Contact Phone</span><br /><span
                    id="contact-phone"
                  ></span>
                </td>
              </tr>
              <tr>
                <td>
                  <span class="label">Website</span><br />
                  <span id="website"></span>
                </td>
                <td>
                  <span class="label">Instagram</span><br />
                  <span id="instagram"></span>
                </td>
              </tr>
              <tr>
                <td>
                  <span class="label">Facebook</span><br />
                  <span id="facebook"></span>
                </td>
                <td>
                  <span class="label">Whatsapp</span><br />
                  <span id="whatsapp"></span>
                </td>
              </tr>
            </table>
          </div>
        </td>
      </tr>
    </table>

    <script>
      // Logo rotation logic
      const logo = document.querySelector(".machine-rotate-logo");
      let isHovering = false;

      if (logo) {
        // Mouse tracking for rotation when NOT hovering
        document.addEventListener("mousemove", function (e) {
          if (isHovering) return;
          const rect = logo.getBoundingClientRect();
          const cx = rect.left + rect.width / 2;
          const cy = rect.top + rect.height / 2;
          const dx = e.clientX - cx;
          const dy = e.clientY - cy;
          const angle = (Math.atan2(dy, dx) * 180) / Math.PI;
          logo.style.transform = `rotate(${angle + 90}deg)`;
        });

        // On hover: add animation class, remove inline transform
        logo.addEventListener("mouseenter", function () {
          isHovering = true;
          logo.style.transform = "";
          logo.classList.add("machine-rotate-animating");
        });

        // On leave: remove animation class, reset to follow mouse
        logo.addEventListener("mouseleave", function () {
          isHovering = false;
          logo.classList.remove("machine-rotate-animating");
        });
      }
    </script>
  </body>
</html>
